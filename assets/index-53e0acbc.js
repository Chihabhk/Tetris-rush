(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const d=document.querySelector("canvas"),f=d.getContext("2d");document.querySelector("h1");const a=20,u=14,y=30;d.width=a*u;d.height=a*y;f.scale(a,a);function m(){w(),O(),window.requestAnimationFrame(m)}const c=[];for(let o=0;o<y;o++)c.push(new Array(u).fill(0));const p=[[[0,1],[1,1],[1,0]],[[1,0],[1,0],[1,1]],[[1,1],[1,1]],[[1,1,1,1]],[[0,1,0],[1,1,1]]],e={position:{x:Math.floor(Math.random()*10+1),y:0},shape:p[Math.floor(Math.random()*p.length)]};function E(){e.position.x=Math.floor(Math.random()*10+1),e.position.y=0,e.shape=p[Math.floor(Math.random()*p.length)]}w();function w(){f.fillStyle="black",f.fillRect(0,0,u,y),c.forEach((o,t)=>{o.forEach((r,n)=>{r>0&&(f.fillStyle="yellow",f.fillRect(n,t,1,1))})}),e.shape.forEach((o,t)=>o.forEach((r,n)=>{r>0&&(f.fillStyle="red",f.fillRect(e.position.x+n,e.position.y+t,1,1))}))}document.addEventListener("keydown",o=>{if(o.key==="ArrowDown"&&(e.position.y++,l()&&(e.position.y--,g())),o.key==="ArrowRight"&&(e.position.x++,l()&&e.position.x--),o.key==="ArrowLeft"&&(e.position.x--,l()&&e.position.x++),o.key==="ArrowUp"){const t=e.shape;A(),l()&&(e.shape=t)}});setInterval(()=>{e.position.y++,l()&&(e.position.y--,g())},700);function x(){e.position.y===0&&(alert("Game Over"),location.reload())}function O(){let o=0;for(let t=0;t<c.length;t++)c[t].every(r=>r>0)&&(o=t,c.splice(o,1),c.unshift(new Array(u).fill(0)))}function g(){e.shape.forEach((o,t)=>{o.forEach((r,n)=>{r===1&&(c[e.position.y+t][e.position.x+n]=1)})}),x(),E()}function A(){const o=[];for(let t=0;t<e.shape[0].length;t++){const r=[];for(let n=e.shape.length-1;n>=0;n--)r.push(e.shape[n][t]);o.push(r)}e.shape=o}function l(){return e.shape.find((o,t)=>o.find((r,n)=>{var i;return r!=0&&((i=c[t+e.position.y])==null?void 0:i[n+e.position.x])!=0}))}m();
